package repositoryimpl

import (
	"gorm.io/gorm"

	"github.com/opensourceways/cve-manager/common/infrastructure/postgres"
)

type dbimpl interface {
	Insert(result interface{}) error
	GetRecord(filter, result interface{}) error
	GetRecords(
		filter []postgres.ColumnFilter, result interface{}, p postgres.Pagination, sort []postgres.SortByColumn,
	) error

	UpdateRecord(filter, update interface{}) error
	Delete(filter interface{}) error

	DB() *gorm.DB

	IsRowNotFound(err error) bool
}
